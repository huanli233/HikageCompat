import{_ as a,o as e,c as s,e as n}from"./app-NfocEJii.js";const i={},d=n(`<h1 id="r8-与-proguard-混淆" tabindex="-1"><a class="header-anchor" href="#r8-与-proguard-混淆" aria-hidden="true">#</a> R8 与 Proguard 混淆</h1><blockquote><p>大部分场景下应用程序安装包可通过混淆压缩体积，这里介绍了混淆规则的配置方法。</p></blockquote><p>一般来说，你需要使用以下规则避免构造方法被去除，以避免可能的 <code>View</code> 或 <code>LayoutParams</code> 创建失败。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#adbac7;">-keepclassmembers class * extends android.view.View {</span></span>
<span class="line"><span style="color:#adbac7;">    &lt;init&gt;(android.content.Context);</span></span>
<span class="line"><span style="color:#adbac7;">    &lt;init&gt;(android.content.Context, android.util.AttributeSet);</span></span>
<span class="line"><span style="color:#adbac7;">}</span></span>
<span class="line"><span style="color:#adbac7;">-keepclassmembers class * extends android.view.ViewGroup$LayoutParams {</span></span>
<span class="line"><span style="color:#adbac7;">    &lt;init&gt;(int, int);</span></span>
<span class="line"><span style="color:#adbac7;">}</span></span>
<span class="line"><span style="color:#adbac7;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你可以将你的自定义 <code>View</code>，例如 <code>com.yourpackage.YourView</code> 使用以下规则强制让它们被混淆。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#adbac7;">-allowobfuscation class com.yourpackage.YourView</span></span>
<span class="line"><span style="color:#adbac7;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果你要防止 <code>Hikage</code> 被混淆，那么你可以使用以下规则来防止 <code>Hikage</code> 被混淆。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki github-dark-dimmed" style="background-color:#22272e;" tabindex="0"><code><span class="line"><span style="color:#adbac7;">-keep class com.highcapable.hikage**</span></span>
<span class="line"><span style="color:#adbac7;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,8),l=[d];function c(o,t){return e(),s("div",null,l)}const p=a(i,[["render",c],["__file","r8-proguard.html.vue"]]);export{p as default};
